<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <!--
        Customize this policy to fit your own app's needs. For more guidance, see:
            https://github.com/apache/cordova-plugin-whitelist/blob/master/README.md#content-security-policy
        Some notes:
            * gap: is required only on iOS (when using UIWebView) and is needed for JS->native communication
            * https://ssl.gstatic.com is required only on Android and is needed for TalkBack to function properly
            * Disables use of inline scripts in order to mitigate risk of XSS vulnerabilities. To change this:
                * Enable inline JS: add 'unsafe-inline' to default-src
        -->
        <meta http-equiv="Content-Security-Policy" content="default-src 'self' data: gap: https://ssl.gstatic.com https://forms.hubspot.com 'unsafe-eval'; style-src 'self' 'unsafe-inline'; media-src *; img-src 'self' data: content:;">
        <meta name="format-detection" content="telephone=no">
        <meta name="msapplication-tap-highlight" content="no">
        <meta name="viewport" content="initial-scale=1, width=device-width, viewport-fit=cover, user-scalable=no">
        <meta name="color-scheme" content="light dark">

        <title>DSCR Calculator</title>

        <link rel="stylesheet" type="text/css" href="lib/bootstrap/3.4.1/css/bootstrap.min.css">
        <link rel="stylesheet" href="css/index.css">
    </head>
    <body>
        <div id="app">
            <div class="container">
                <div class="text-center">
                    <div id="headerLogoContainer" class="text-center">
                        <img src="img/logo-sq-alpha.png">
                    </div>
                </div>
                <h1 class="text-center">
                    DSCR Calculator
                    <div><small>Call <a href="tel:+18888787715">888-878-7715</a> for assistance</small></span>
                </h1>
                <div class="row">
                    <div class="col-xs-12">
                        <form
                            id="calxForm"
                            class="form-horizontal"
                            action=""
                        >
                            <div class="form-group form-group-lg">
                                <label
                                    for="borrowerName"
                                    class="control-label col-sm-6 required"
                                >Borrower Name</label>
                                <div class="col-sm-6">
                                    <input
                                        id="borrowerName"
                                        name="borrowerName"
                                        type="text"
                                        required="required"
                                        class="form-control"
                                        value="Ken Smith"
                                    >
                                </div>
                            </div>
                            <div class="form-group form-group-lg">
                                <label
                                    for="propertyAddress1"
                                    class="control-label col-sm-6"
                                >Property Street Address</label>
                                <div class="col-sm-6">
                                    <input
                                        id="propertyAddress1"
                                        name="propertyAddress1"
                                        type="text"
                                        required="required"
                                        class="form-control"
                                        value="123 Easy St"
                                    >
                                </div>
                            </div>
                            <div class="form-group form-group-lg">
                                <label
                                    for="propertyAddress2"
                                    class="control-label col-sm-6"
                                >Property City, State, ZIP</label>
                                <div class="col-sm-6">
                                    <input
                                        id="propertyAddress2"
                                        name="propertyAddress2"
                                        type="text"
                                        required="required"
                                        class="form-control"
                                        value="Anywhere, ST 12345"
                                    >
                                </div>
                            </div>
                            <div class="form-group form-group-lg">
                                <label
                                    for="ficoScore"
                                    class="control-label col-sm-6"
                                >Borrower Middle FICO Score</label>
                                <div class="col-sm-6">
                                    <input
                                        id="ficoScore"
                                        name="ficoScore"
                                        type="number"
                                        inputmode="numeric"
                                        class="form-control"
                                        value="800"
                                        data-cell="C13"
                                    >
                                </div>
                            </div>
                            <div class="form-group form-group-lg">
                                <label
                                    for="numUnits"
                                    class="control-label col-sm-6"
                                ># of Units</label>
                                <div class="col-sm-6">
                                    <input
                                        id="numUnits"
                                        name="numUnits"
                                        type="number"
                                        inputmode="numeric"
                                        class="form-control"
                                        step="1"
                                        value="1"
                                        data-cell="C14"
                                    >
                                </div>
                            </div>
                            <div class="form-group form-group-lg">
                                <label
                                    for="purposeOfLoan"
                                    class="control-label col-sm-6"
                                >Purpose of Loan</label>
                                <div class="col-sm-6">
                                    <select
                                        id="purposeOfLoan"
                                        name="purposeOfLoan"
                                        required="required"
                                        class="select form-control"
                                        data-cell="C15"
                                    >
                                        <option value="Purchase">Purchase</option>
                                        <option
                                            value="RateAndTerm"
                                            selected
                                        >Rate &amp; Term</option>
                                        <option value="Cashout">Cashout</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group form-group-lg">
                                <label
                                    for="valueBorrowerPrimary"
                                    class="control-label col-sm-6"
                                >Value of Borrower's Primary</label>
                                <div class="col-sm-6">
                                    <!-- <div class="input-group">
                                        <div class="input-group-addon">$</div> -->
                                    <input
                                        id="valueBorrowerPrimary"
                                        name="valueBorrowerPrimary"
                                        type="text"
                                        inputmode="decimal"
                                        required="required"
                                        class="form-control"
                                        value="2000000"
                                        data-cell="E10"
                                        data-format="$0,0[.]00"
                                    >
                                    <!-- <div class="input-group-addon">.00</div>
                                    </div> -->
                                </div>
                            </div>
                            <div class="form-group form-group-lg">
                                <label
                                    for="valueSubjectProperty"
                                    class="control-label col-sm-6"
                                >Value of Subject Property</label>
                                <div class="col-sm-6">
                                    <!-- <div class="input-group">
                                        <div class="input-group-addon">$</div> -->
                                    <input
                                        id="valueSubjectProperty"
                                        name="valueSubjectProperty"
                                        type="text"
                                        inputmode="decimal"
                                        required="required"
                                        class="form-control"
                                        value="1000000"
                                        data-cell="E11"
                                        data-format="$0,0[.]00"
                                    >
                                    <!-- <div class="input-group-addon">.00</div>
                                    </div> -->
                                </div>
                            </div>
                            <div class="form-group form-group-lg">
                                <label
                                    for="proposedLoanAmt"
                                    class="control-label col-sm-6"
                                >Proposed Loan Amount</label>
                                <div class="col-sm-6">
                                    <!-- <div class="input-group">
                                        <div class="input-group-addon">$</div> -->
                                    <input
                                        id="proposedLoanAmt"
                                        name="proposedLoanAmt"
                                        type="text"
                                        inputmode="decimal"
                                        required="required"
                                        class="form-control"
                                        value="450000"
                                        data-cell="E12"
                                        data-format="$0,0[.]00"
                                    >
                                    <!-- <div class="input-group-addon">.00</div>
                                    </div> -->
                                </div>
                            </div>
                            <div class="form-group form-group-lg">
                                <label
                                    for="subjectPropertyEstMonthlyRent"
                                    class="control-label col-sm-6"
                                >Subject Property Est. Monthly Rent</label>
                                <div class="col-sm-6">
                                    <!-- <div class="input-group">
                                        <div class="input-group-addon">$</div> -->
                                    <input
                                        id="subjectPropertyEstMonthlyRent"
                                        name="subjectPropertyEstMonthlyRent"
                                        type="text"
                                        inputmode="decimal"
                                        required="required"
                                        class="form-control"
                                        value="5000"
                                        data-cell="E13"
                                        data-format="$0,0[.]00"
                                    >
                                    <!-- <div class="input-group-addon">.00</div>
                                    </div> -->
                                </div>
                            </div>
                            <div class="form-group form-group-lg">
                                <label
                                    for="subjectPropertyEstMonthlyInsur"
                                    class="control-label col-sm-6"
                                >Subject Property Est. Monthly Insurance</label>
                                <div class="col-sm-6">
                                    <!-- <div class="input-group"> -->
                                    <!-- <div class="input-group-addon">$</div> -->
                                    <input
                                        id="subjectPropertyEstMonthlyInsur"
                                        name="subjectPropertyEstMonthlyInsur"
                                        type="text"
                                        inputmode="decimal"
                                        required="required"
                                        class="form-control"
                                        value="250"
                                        data-cell="E14"
                                        data-format="$0,0[.]00"
                                    >
                                    <!-- <div class="input-group-addon">.00</div>
                                    </div> -->
                                </div>
                            </div>
                            <div class="form-group form-group-lg">
                                <label
                                    for="subjectPropertyEstMonthlyPropTaxes"
                                    class="control-label col-sm-6"
                                >Subject Property Est. Monthly Property Taxes</label>
                                <div class="col-sm-6">
                                    <!-- <div class="input-group"> -->
                                    <!-- <div class="input-group-addon">$</div> -->
                                    <input
                                        id="subjectPropertyEstMonthlyPropTaxes"
                                        name="subjectPropertyEstMonthlyPropTaxes"
                                        type="text"
                                        inputmode="decimal"
                                        required="required"
                                        class="form-control"
                                        value="1200"
                                        data-cell="E15"
                                        data-format="$0,0[.]00"
                                    >
                                    <!-- <div class="input-group-addon">.00</div> -->
                                    <!-- </div> -->
                                </div>
                            </div>
                            <div class="form-group form-group-lg">
                                <label
                                    for="optMonthlyHoaDues"
                                    class="control-label col-sm-6"
                                >Monthly Homeowners Association Dues (if any)</label>
                                <div class="col-sm-6">
                                    <!-- <div class="input-group"> -->
                                    <!-- <div class="input-group-addon">$</div> -->
                                    <input
                                        id="optMonthlyHoaDues"
                                        name="optMonthlyHoaDues"
                                        type="text"
                                        inputmode="decimal"
                                        class="form-control"
                                        value="0"
                                        data-cell="E16"
                                        data-format="$0,0[.]00"
                                    >
                                    <!-- <div class="input-group-addon">.00</div> -->
                                    <!-- </div> -->
                                </div>
                            </div>
                            <div class="form-group form-group-lg">
                                <div class="col-sm-6 col-sm-offset-6">
                                    <!-- NOTE: `.input-lg` hack -->
                                    <div class="checkbox input-lg">
                                        <label>
                                            <input
                                                type="checkbox"
                                                name="chkInterestOnlyDesired"
                                                value="Yes"
                                                data-unchecked="No"
                                                checked
                                                data-cell="E19"
                                            >Interest Only Desired
                                        </label>
                                    </div>
                                    <p
                                        id="chkInterestOnlyDesiredHelpBlock"
                                        class="help-block"
                                    ><em>(Typical answer is: No)</em></p>
                                </div>
                            </div>
                            <div class="form-group form-group-lg">
                                <div class="col-sm-6 col-sm-offset-6">
                                    <!-- NOTE: `.input-lg` hack -->
                                    <div class="checkbox input-lg">
                                        <label>
                                            <input
                                                type="checkbox"
                                                name="chkUseNoRatioInstead"
                                                value="Yes"
                                                data-unchecked="No"
                                                checked
                                                data-cell="E20"
                                            >Use No Ratio Instead
                                        </label>
                                    </div>
                                    <p
                                        id="chkUseNoRatioInsteadHelpBlock"
                                        class="help-block"
                                    ><em>(Typical answer is: No)</em></p>
                                </div>
                            </div>
                            <div class="form-group row small">
                                <div class="col-xs-12 col-sm-3 text-center">
                                    <button
                                        name="submit"
                                        type="submit"
                                        class="btn btn-block btn-lg btn-info"
                                    >Calculate</button>
                                </div>
                                <div class="col-xs-12 col-sm-9 small">
                                    <p class="text-justify" style="margin-top:15px;">
                                        The illustration shown above is for investment properties only, therefore this loan will be deemed for Business Purpose
                                        Only. The rate and terms listed above are not a binding agreement by Truss Financial Group as there are other factors to
                                        be considered upon application and evaluation of the subject property. <span id="debugValuesDisplayToggle">•••</span>
                                    </p>
                                </div>
                            </div>

                            <!-- BEGIN: OUTPUT VALUES -->
                            <div id="outputValuesContainer" style="display:none;">
                                <hr>
                                <div class="form-group form-group-lg bg-info">
                                    <label
                                        for="outLtvRatio"
                                        class="control-label col-sm-6"
                                    >Loan-to-Value (LTV) Ratio</label>
                                    <div class="col-sm-6">
                                        <!-- <div class="input-group"> -->
                                        <input
                                            id="outLtvRatio"
                                            name="outLtvRatio"
                                            type="text"
                                            class="form-control"
                                            readonly
                                            disabled
                                            data-cell="C16"
                                            data-formula="+E12/E11"
                                            data-format="0.00%"
                                        >
                                        <!-- <div class="input-group-addon">%</div> -->
                                        <!-- </div> -->
                                    </div>
                                </div>
                                <div class="form-group form-group-lg bg-info">
                                    <label
                                        for="outEstIntRate"
                                        class="control-label col-sm-6"
                                    >Estimated Interest Rate</label>
                                    <div class="col-sm-6">
                                        <!-- <div class="input-group"> -->
                                        <input
                                            id="outEstIntRate"
                                            name="outEstIntRate"
                                            type="text"
                                            readonly
                                            disabled
                                            class="form-control"
                                            data-cell="C17"
                                            data-formula="+K23"
                                            data-format="0.00%"
                                        >
                                        <!-- <div class="input-group-addon">%</div> -->
                                        <!-- </div> -->
                                    </div>
                                </div>
                                <div class="form-group form-group-lg bg-info">
                                    <label
                                        for="outPrincipalAndInterest"
                                        class="control-label col-sm-6"
                                    >Principal &amp; Interest</label>
                                    <div class="col-sm-6">
                                        <!-- <div class="input-group"> -->
                                        <!-- <div class="input-group-addon">$</div> -->
                                        <input
                                            id="outPrincipalAndInterest"
                                            name="outPrincipalAndInterest"
                                            type="text"
                                            readonly
                                            disabled
                                            class="form-control"
                                            data-cell="E17"
                                            data-formula="IF(K25='Error','Error',PMT(K25/12,360,E12,0,1)*-1)"
                                            data-format="$0,0[.]00"
                                        >
                                        <!-- <div class="input-group-addon">.00</div> -->
                                        <!-- </div> -->
                                    </div>
                                </div>
                                <div class="form-group form-group-lg bg-info">
                                    <label
                                        for="outSubjectPiti"
                                        class="control-label col-sm-6"
                                    >Subject Property Combined Payment (PITI)</label>
                                    <div class="col-sm-6">
                                        <!-- <div class="input-group"> -->
                                        <!-- <div class="input-group-addon">$</div> -->
                                        <input
                                            id="outSubjectPiti"
                                            name="outSubjectPiti"
                                            type="text"
                                            readonly
                                            disabled
                                            class="form-control"
                                            data-cell="E18"
                                            data-formula="SUM(E14:E17)"
                                            data-format="$0,0[.]00"
                                        >
                                        <!-- <div class="input-group-addon">.00</div> -->
                                        <!-- </div>  -->
                                    </div>
                                </div>
                                <div class="form-group form-group-lg bg-info">
                                    <label
                                        for="outDscrValue"
                                        class="control-label col-sm-6"
                                    >Debt Service Coverage Ratio (DSCR)</label>
                                    <div class="col-sm-6">
                                        <input
                                            id="outDscrValue"
                                            name="outDscrValue"
                                            type="text"
                                            class="form-control"
                                            readonly
                                            disabled
                                            data-formula="IF(K17='NA','Error',+E13/E18)"
                                            data-format="0.00"
                                        >
                                    </div>
                                </div>
                            </div><!-- /#outputValuesContainer -->
                            <!-- END: OUTPUT VALUES -->
            
                            <!-- XXX BEGIN: DEBUG VALUES -->
                            <div id="debugValuesContainer" style="display:none;">
                                <hr>
                                <div class="form-group form-group-lg bg-danger">
                                    <label
                                        for="hidABS_Score"
                                        class="control-label col-sm-6"
                                    >ABS_Score</label>
                                    <div class="col-sm-6">
                                        <input
                                            id="hidABS_Score"
                                            name="hidABS_Score"
                                            type="text"
                                            class="form-control"
                                            readonly
                                            disabled
                                            data-cell="K14"
                                        >
                                    </div>
                                </div>
                                <div class="form-group form-group-lg bg-danger">
                                    <label
                                        for="hidABS_LTV"
                                        class="control-label col-sm-6"
                                    >ABS_LTV</label>
                                    <div class="col-sm-6">
                                        <input
                                            id="hidABS_LTV"
                                            name="hidABS_LTV"
                                            type="text"
                                            class="form-control"
                                            readonly
                                            disabled
                                            data-cell="K15"
                                        >
                                    </div>
                                </div>
                                <div class="form-group form-group-lg bg-danger">
                                    <label
                                        for="hidBase_Rate"
                                        class="control-label col-sm-6"
                                    >Base_Rate</label>
                                    <div class="col-sm-6">
                                        <input
                                            id="hidBase_Rate"
                                            name="hidBase_Rate"
                                            type="text"
                                            class="form-control"
                                            readonly
                                            disabled
                                            data-cell="K17"
                                        >
                                    </div>
                                </div>
                                <div class="form-group form-group-lg bg-danger">
                                    <label
                                        for="hidTWO_to_FOUR_Units"
                                        class="control-label col-sm-6"
                                    >TWO_to_FOUR_Units</label>
                                    <div class="col-sm-6">
                                        <input
                                            id="hidTWO_to_FOUR_Units"
                                            name="hidTWO_to_FOUR_Units"
                                            type="text"
                                            class="form-control"
                                            readonly
                                            disabled
                                            data-cell="K19"
                                        >
                                    </div>
                                </div>
                                <div class="form-group form-group-lg bg-danger">
                                    <label
                                        for="hidIO"
                                        class="control-label col-sm-6"
                                    >IO</label>
                                    <div class="col-sm-6">
                                        <input
                                            id="hidIO"
                                            name="hidIO"
                                            type="text"
                                            class="form-control"
                                            readonly
                                            disabled
                                            data-cell="K20"
                                        >
                                    </div>
                                </div>
                                <div class="form-group form-group-lg bg-danger">
                                    <label
                                        for="hidNo_DSCR"
                                        class="control-label col-sm-6"
                                    >No_DSCR</label>
                                    <div class="col-sm-6">
                                        <input
                                            id="hidNo_DSCR"
                                            name="hidNo_DSCR"
                                            type="text"
                                            class="form-control"
                                            readonly
                                            disabled
                                            data-cell="K21"
                                        >
                                    </div>
                                </div>
                                <div class="form-group form-group-lg bg-danger">
                                    <label
                                        for="hidCashOut"
                                        class="control-label col-sm-6"
                                    >CashOut</label>
                                    <div class="col-sm-6">
                                        <input
                                            id="hidCashOut"
                                            name="hidCashOut"
                                            type="text"
                                            class="form-control"
                                            readonly
                                            disabled
                                            data-cell="K22"
                                        >
                                    </div>
                                </div>
                                <div class="form-group form-group-lg bg-danger">
                                    <label
                                        for="hidNet_BPC_Rate"
                                        class="control-label col-sm-6"
                                    >Net_BPC_Rate</label>
                                    <div class="col-sm-6">
                                        <input
                                            id="hidNet_BPC_Rate"
                                            name="hidNet_BPC_Rate"
                                            type="text"
                                            class="form-control"
                                            readonly
                                            disabled
                                            data-cell="K23"
                                        >
                                    </div>
                                </div>
                                <div class="form-group form-group-lg bg-danger">
                                    <label
                                        for="hidLPC_Add"
                                        class="control-label col-sm-6"
                                    >LPC_Add</label>
                                    <div class="col-sm-6">
                                        <input
                                            id="hidLPC_Add"
                                            name="hidLPC_Add"
                                            type="text"
                                            class="form-control"
                                            readonly
                                            disabled
                                            data-cell="K24"
                                        >
                                    </div>
                                </div>
                                <div class="form-group form-group-lg bg-danger">
                                    <label
                                        for="hidNet_LPC_Rate"
                                        class="control-label col-sm-6"
                                    >Net_LPC_Rate</label>
                                    <div class="col-sm-6">
                                        <input
                                            id="hidNet_LPC_Rate"
                                            name="hidNet_LPC_Rate"
                                            type="text"
                                            class="form-control"
                                            readonly
                                            disabled
                                            data-cell="K25"
                                        >
                                    </div>
                                </div>
                            </div><!-- /#debugValuesContainer -->
                            <!-- XXX END: DEBUG VALUES -->
                        </form>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- 1. platform -->
        <script src="cordova.js"></script>

        <!-- 2. libs -->
        <script src="lib/jquery/3.6.0/jquery.min.js"></script>
        <script src="lib/jquery-validation@1.19.3/dist/jquery.validate.min.js"></script>
        <script src="lib/jquery-validation@1.19.3/dist/additional-methods.min.js"></script>
        <script src="lib/numeral@1.4.5/numeral.min.js"></script>
        <script src="lib/xsanisty/calx.js/jquery-calx-2.2.7+tfg.1.js"></script>
        <script src="lib/jwt-decode@3.1.2/jwt-decode.js"></script>
        <script src="lib/smoothscroll-polyfill@0.4.4/smoothscroll.min.js"></script>
        <!-- <script src="lib/bootstrap/3.4.1/js/bootstrap.min.js"></script> -->

        <!-- 3. app -->
        <script src="js/index.js"></script>
    </body>
</html>
